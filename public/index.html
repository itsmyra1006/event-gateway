<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Gateway - Register</title>
    <style>
        :root { --bg-color: #f0f2f5; --container-bg: white; --text-color: #333; --input-border: #ddd; --shadow-color: rgba(0, 0, 0, 0.1); --primary-btn-bg: #007bff; --primary-btn-hover: #0056b3; }
        body.dark-theme { --bg-color: #1a1a1a; --container-bg: #2c2c2c; --text-color: #e0e0e0; --input-border: #555; --shadow-color: rgba(0, 0, 0, 0.4); --primary-btn-bg: #0056b3; --primary-btn-hover: #004494; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background-color: var(--bg-color); color: var(--text-color); display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; transition: background-color 0.3s, color 0.3s; }
        .container { background-color: var(--container-bg); padding: 2rem; border-radius: 8px; box-shadow: 0 4px 12px var(--shadow-color); text-align: center; width: 100%; max-width: 400px; transition: background-color 0.3s; }
        h1 { margin-bottom: 1.5rem; }
        input { width: 100%; padding: 0.75rem; margin-bottom: 1rem; border: 1px solid var(--input-border); border-radius: 4px; box-sizing: border-box; background-color: var(--bg-color); color: var(--text-color); }
        button { width: 100%; padding: 0.75rem; background-color: var(--primary-btn-bg); color: white; border: none; border-radius: 4px; font-size: 1rem; cursor: pointer; transition: background-color 0.2s; }
        button:hover { background-color: var(--primary-btn-hover); }
        .hidden { display: none; }
        #qrcode { margin: 20px auto; padding: 10px; background-color: white; border-radius: 4px; display: inline-block; }
        #status-message.success { color: #28a745; }
        #status-message.error { color: #dc3545; font-weight: bold; }
        body.dark-theme #status-message.success { color: #34c759; }
        body.dark-theme #status-message.error { color: #ff453a; }
        .theme-toggle-btn { position: absolute; top: 20px; right: 20px; background: var(--container-bg); border: 1px solid var(--input-border); border-radius: 50%; width: 40px; height: 40px; cursor: pointer; display: flex; justify-content: center; align-items: center; z-index: 10; font-size: 20px; line-height: 1; padding: 0; }
    </style>
</head>
<body>
    <button id="theme-toggle" class="theme-toggle-btn" title="Toggle theme"><span id="theme-icon"></span></button>
    <div class="container">
        <h1>Club Event Registration</h1>
        <form id="registration-form">
            <input type="text" id="name" placeholder="Full Name" required>
            <input type="email" id="email" placeholder="Email Address" required>
            <input type="text" id="registrationId" placeholder="Student / Registration ID" required>
            <button type="submit">Register</button>
        </form>
        <div id="result-area" class="hidden">
            <h2 id="status-message"></h2>
            <div id="success-display" class="hidden">
                <div id="qrcode"></div>
                <p>Please take a screenshot of this QR code.</p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
    <script src="script.js"></script>
    <script>
        const themeToggleBtn = document.getElementById('theme-toggle');
        const themeIcon = document.getElementById('theme-icon');
        const applyTheme = (theme) => {
            if (theme === 'dark') { document.body.classList.add('dark-theme'); themeIcon.textContent = 'â˜€ï¸'; } 
            else { document.body.classList.remove('dark-theme'); themeIcon.textContent = 'ðŸŒ™'; }
        };
        const savedTheme = localStorage.getItem('theme') || 'light';
        applyTheme(savedTheme);
        themeToggleBtn.addEventListener('click', () => {
            const newTheme = document.body.classList.contains('dark-theme') ? 'light' : 'dark';
            localStorage.setItem('theme', newTheme);
            applyTheme(newTheme);
        });
    </script>
</body>
</html>